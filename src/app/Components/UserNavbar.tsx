"use client";
import Link from "next/link";
import React, { useState } from "react";
import Cookies from "js-cookie";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
  DialogClose,
} from "@/components/ui/dialog";
import axios from "axios";
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from "@/components/ui/popover";
import { useRouter } from "next/navigation";

const UserNavbar = (props: any) => {
  const apiEndpoint =  process.env.NEXT_PUBLIC_BASE_API_ENDPOINT;
  const [onDetailsClick, setOnDetailsClick] = useState(false);
  const userId = Cookies.get("user_id");
  const router = useRouter();
  const handleDelete = async (e: any) => {
    e.preventDefault();
    try {
      const userid = Cookies.get("user_id");
      //console.log(userid);
      const response = await fetch(
        `${apiEndpoint}/api/fitnearn/web/users/delete`,
        {
          method: "DELETE", // Method should be a string
          headers: {
            "Content-Type": "application/json", // Specify JSON format
          },
          body: JSON.stringify({
            userId: Cookies.get("user_id"), // Body should be a JSON string
          }),
        },
      );

      // Fetch does not automatically parse JSON, so you need to do it manually
      const responseData = await response.json();
      //console.log(responseData);
      if (responseData.success) {
        Cookies.remove("refresh_token");
        Cookies.remove("access_token");
        Cookies.remove("id_token");
        Cookies.remove("email");
        Cookies.remove("username");
        if (Cookies.get("user_id")) {
          Cookies.remove("user_id");
        }
        if (Cookies.get("genToken")) {
          Cookies.remove("genToken");
        }

        // First redirect to home page
        await router.push("/");

        // Then refresh the page after a short delay to ensure redirect completes
        setTimeout(() => {
          window.location.reload();
        }, 500);

        //console.log("Account deleted successfully");
        //console.log(responseData);
      } else {
        //console.log(responseData);
      }
    } catch (error) {
      //console.error("Error submitting form:", error);
    }
  };

  return (
    <div className="z-50">
      <div
        style={{
          backgroundColor: "var(--Neutral-900, #171717)",
          boxShadow: "1px 15px 20px 4px rgba(255, 255, 255, 0.10)",
        }}
        className="text-white z-40 mq450:w-screen mq450:overflow-y-hidden mq450:overflow-scroll mq450:scrollbar-thin  h-[750px] mq450:h-[72px] fixed mq450:top-[65px] top-[71px] -2 w-[120px] mq450:flex mq450:text-[14px] border-neutral-800 border-b-2 "
      >
        <Link href={`/profile/${userId}`}>
          <div
            className={`flex flex-col items-center py-3 mq450:px-3 bg-${props.useractivecolor ? props.useractivecolor : ""}`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
            >
              <g
                className={`${props.activeuser ? "" : "mix-blend-luminosity"}`}
              >
                <path
                  d="M11.9997 0.332031C9.69223 0.332031 7.4366 1.01627 5.51803 2.29822C3.59945 3.58017 2.10411 5.40225 1.22109 7.53406C0.338063 9.66586 0.107024 12.0116 0.557185 14.2748C1.00735 16.5379 2.11849 18.6167 3.7501 20.2483C5.38171 21.8799 7.46051 22.991 9.72363 23.4412C11.9867 23.8914 14.3325 23.6603 16.4643 22.7773C18.5961 21.8943 20.4182 20.3989 21.7002 18.4803C22.9821 16.5618 23.6663 14.3061 23.6663 11.9987C23.6629 8.90555 22.4327 5.94006 20.2455 3.75287C18.0583 1.56568 15.0928 0.335428 11.9997 0.332031V0.332031ZM11.9997 6.16536C12.6919 6.16536 13.3686 6.37064 13.9442 6.75522C14.5197 7.13981 14.9684 7.68643 15.2333 8.32597C15.4982 8.96551 15.5675 9.66925 15.4324 10.3482C15.2974 11.0271 14.964 11.6508 14.4746 12.1402C13.9851 12.6297 13.3614 12.9631 12.6825 13.0981C12.0036 13.2332 11.2998 13.1638 10.6603 12.8989C10.0207 12.634 9.47412 12.1854 9.08954 11.6099C8.70495 11.0343 8.49968 10.3576 8.49968 9.66536C8.49968 8.73711 8.86843 7.84687 9.5248 7.19049C10.1812 6.53411 11.0714 6.16536 11.9997 6.16536V6.16536ZM11.9997 21.332C9.94542 21.3343 7.93616 20.7304 6.22351 19.596C6.35887 18.468 6.90242 17.4284 7.7516 16.6736C8.60077 15.9188 9.69685 15.5009 10.833 15.4987H13.1663C14.3025 15.5009 15.3986 15.9188 16.2478 16.6736C17.0969 17.4284 17.6405 18.468 17.7758 19.596C16.0632 20.7304 14.0539 21.3343 11.9997 21.332V21.332Z"
                  fill="url(#paint0_linear_9207_42840)"
                />
              </g>
              <defs>
                <linearGradient
                  id="paint0_linear_9207_42840"
                  x1="-0.564428"
                  y1="15.2257"
                  x2="24.4517"
                  y2="15.2297"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F43F5E" />
                  <stop offset="1" stopColor="#FB923C" />
                </linearGradient>
              </defs>
            </svg>

            <p className="text-center text-nowrap">My Profile</p>
          </div>
        </Link>
        <Link href="/live_session/upcoming_session">
          <div
            className={`flex flex-col items-center py-3 mq450:px-3 bg-${props.liveactivecolor ? props.liveactivecolor : ""}`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="28"
              viewBox="0 0 28 28"
              fill="none"
            >
              <g
                className={`${props.activelive ? "" : "mix-blend-luminosity"}`}
                clipPath="url(#clip0_1421_19964)"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M16.18 0.166487C15.9854 0.13602 15.7867 0.144185 15.5952 0.190515C15.4037 0.236845 15.2233 0.320433 15.0641 0.436506C14.905 0.552579 14.7702 0.698865 14.6676 0.86701C14.565 1.03516 14.4965 1.22187 14.466 1.41649C14.4355 1.61111 14.4437 1.80982 14.49 2.00128C14.5364 2.19275 14.6199 2.37321 14.736 2.53237C14.8521 2.69153 14.9984 2.82627 15.1665 2.92889C15.3347 3.03152 15.5214 3.10002 15.716 3.13049C18.4445 3.56985 20.9078 5.01982 22.6162 7.19217C24.3246 9.36453 25.1531 12.1002 24.9369 14.8554C24.7207 17.6106 23.4757 20.1835 21.4493 22.0628C19.4229 23.9421 16.7636 24.9901 14 24.9985C11.7944 24.9989 9.63958 24.3365 7.81507 23.0972C5.99056 21.8579 4.58057 20.0989 3.768 18.0485C3.69975 17.8596 3.59428 17.6864 3.45784 17.5391C3.3214 17.3918 3.15677 17.2733 2.97371 17.1908C2.79064 17.1083 2.59288 17.0634 2.39213 17.0587C2.19138 17.054 1.99174 17.0897 1.80504 17.1637C1.61834 17.2376 1.44838 17.3482 1.30525 17.4891C1.16212 17.6299 1.04872 17.7981 0.971775 17.9835C0.894832 18.169 0.855914 18.368 0.857327 18.5688C0.85874 18.7696 0.900455 18.9681 0.98 19.1525C2.18153 22.1793 4.40042 24.6928 7.2549 26.2605C10.1094 27.8281 13.421 28.3519 16.6199 27.7417C19.8189 27.1315 22.7051 25.4255 24.7821 22.9172C26.8592 20.4089 27.997 17.2551 28 13.9985C27.9998 10.663 26.8092 7.43716 24.6423 4.90144C22.4754 2.36571 19.4746 0.686669 16.18 0.166487ZM12.328 1.32049C12.3773 1.51143 12.3885 1.71023 12.3608 1.90549C12.3332 2.10075 12.2674 2.28865 12.1671 2.45844C12.0668 2.62823 11.9339 2.77657 11.7762 2.89498C11.6185 3.01338 11.439 3.09953 11.248 3.14849C10.747 3.27741 10.2557 3.44183 9.778 3.64049C9.59612 3.71613 9.40112 3.7552 9.20414 3.75549C9.00716 3.75577 8.81205 3.71725 8.62995 3.64212C8.44785 3.567 8.28234 3.45675 8.14285 3.31766C8.00337 3.17857 7.89264 3.01337 7.817 2.83149C7.74136 2.64961 7.70228 2.45461 7.702 2.25762C7.70172 2.06064 7.74024 1.86553 7.81536 1.68344C7.89049 1.50134 8.00074 1.33583 8.13983 1.19634C8.27892 1.05685 8.44412 0.946128 8.626 0.870487C9.23 0.618487 9.856 0.408487 10.502 0.242487C10.6928 0.193488 10.8914 0.182557 11.0864 0.210315C11.2815 0.238074 11.4691 0.30398 11.6387 0.40427C11.8083 0.504559 11.9564 0.637267 12.0747 0.794816C12.193 0.952365 12.279 1.12967 12.328 1.32049ZM6.37 3.78649C6.6467 4.07196 6.79875 4.45559 6.79275 4.85311C6.78675 5.25063 6.62319 5.6295 6.338 5.90649C5.59434 6.63129 4.9549 7.45583 4.438 8.35649C4.34292 8.53241 4.21363 8.68754 4.05773 8.81277C3.90182 8.938 3.72245 9.03079 3.53016 9.08568C3.33787 9.14057 3.13655 9.15647 2.93803 9.13242C2.73951 9.10838 2.5478 9.04488 2.37418 8.94567C2.20056 8.84646 2.04853 8.71353 1.92702 8.5547C1.80552 8.39588 1.717 8.21436 1.66667 8.02083C1.61635 7.8273 1.60522 7.62566 1.63396 7.42776C1.66269 7.22987 1.73071 7.03971 1.834 6.86849C2.48902 5.72213 3.30235 4.67381 4.25 3.75449C4.53547 3.47779 4.91911 3.32574 5.31662 3.33174C5.71414 3.33774 6.09301 3.5013 6.37 3.78649ZM1.832 10.5585C2.2258 10.614 2.58144 10.8236 2.82072 11.1413C3.06 11.459 3.16333 11.8587 3.108 12.2525C3.03586 12.766 2.99978 13.2839 3 13.8025C3 14.2003 2.84196 14.5818 2.56066 14.8631C2.27936 15.1445 1.89782 15.3025 1.5 15.3025C1.10218 15.3025 0.720644 15.1445 0.43934 14.8631C0.158035 14.5818 0 14.2003 0 13.8025C0 13.1365 0.046 12.4785 0.138 11.8345C0.193522 11.4407 0.40316 11.085 0.720823 10.8458C1.03849 10.6065 1.43817 10.5032 1.832 10.5585ZM9 17.7625V10.2345C9.00018 9.8937 9.08744 9.55862 9.25349 9.26103C9.41954 8.96344 9.65888 8.71321 9.94879 8.5341C10.2387 8.35498 10.5696 8.25291 10.91 8.23758C11.2504 8.22225 11.5892 8.29416 11.894 8.44649L19.422 12.2105C19.7538 12.3768 20.0327 12.6321 20.2277 12.9478C20.4226 13.2636 20.5259 13.6274 20.5259 13.9985C20.5259 14.3696 20.4226 14.7334 20.2277 15.0491C20.0327 15.3649 19.7538 15.6202 19.422 15.7865L11.894 19.5505C11.5892 19.7028 11.2504 19.7747 10.91 19.7594C10.5696 19.7441 10.2387 19.642 9.94879 19.4629C9.65888 19.2838 9.41954 19.0335 9.25349 18.7359C9.08744 18.4384 9.00018 18.1033 9 17.7625Z"
                  fill="url(#paint0_linear_9207_42818)"
                />
              </g>
              <defs>
                <linearGradient
                  id="paint0_linear_9207_42818"
                  x1="-1.07692"
                  y1="17.9195"
                  x2="28.9424"
                  y2="17.9244"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F43F5E" />
                  <stop offset="1" stopColor="#FB923C" />
                </linearGradient>
                <clipPath id="clip0_9207_42818">
                  <rect width="28" height="28" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <p className="text-center text-nowrap">Live session</p>
          </div>
        </Link>
        <Link href="/user_blogs/all_blogs">
          <div
            className={`flex flex-col items-center py-3 mq450:px-3 bg-${props.blogsactivecolor ? props.blogsactivecolor : ""}`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="28"
              viewBox="0 0 28 28"
              fill="none"
            >
              <g
                className={`${props.activeblogs ? "" : "mix-blend-luminosity"}`}
              >
                <path
                  d="M12.833 6.05129C10.5697 5.28342 4.25334 3.79674 2.67484 5.34503C2.45802 5.55699 2.33523 5.8439 2.33301 6.1437V20.634C2.33301 20.8342 2.38692 21.031 2.48932 21.2044C2.59172 21.3779 2.739 21.5219 2.91635 21.6221C3.09371 21.7222 3.29489 21.7749 3.49968 21.7749C3.70447 21.7749 3.90565 21.7222 4.08301 21.622C5.31851 21.2912 11.3922 22.5051 12.833 23.3335V6.05129Z"
                  fill="url(#paint0_linear_9207_42819)"
                />
                <path
                  d="M25.3245 5.34503C23.7448 3.79788 17.4297 5.28342 15.1663 6.05129V23.3346C16.606 22.5063 22.675 21.2934 23.9163 21.6232C24.0938 21.7234 24.2951 21.7761 24.5 21.776C24.7048 21.776 24.9061 21.7232 25.0835 21.6229C25.2609 21.5226 25.4081 21.3784 25.5105 21.2048C25.6128 21.0312 25.6665 20.8343 25.6663 20.634V6.1437C25.6641 5.8439 25.5413 5.55699 25.3245 5.34503Z"
                  fill="url(#paint1_linear_9207_42819)"
                />
              </g>
              <defs>
                <linearGradient
                  id="paint0_linear_9207_42819"
                  x1="1.43557"
                  y1="16.5829"
                  x2="26.4517"
                  y2="16.5879"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F43F5E" />
                  <stop offset="1" stopColor="#FB923C" />
                </linearGradient>
                <linearGradient
                  id="paint1_linear_9207_42819"
                  x1="1.43557"
                  y1="16.5829"
                  x2="26.4517"
                  y2="16.5879"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F43F5E" />
                  <stop offset="1" stopColor="#FB923C" />
                </linearGradient>
              </defs>
            </svg>

            <p className="text-center text-nowrap">My Blogs</p>
          </div>
        </Link>
        <Link href="/sub_plans/active_plans">
          <div
            className={`flex flex-col items-center py-3 mq450:px-3 bg-${props.plansactivecolor ? props.plansactivecolor : ""}`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="28"
              viewBox="0 0 28 28"
              fill="none"
            >
              <g
                className={`${props.activeplans ? "" : "mix-blend-luminosity"}`}
              >
                <path
                  d="M3.49967 8.45703C2.37209 8.45703 1.45801 9.37111 1.45801 10.4987V23.332C1.45801 24.4596 2.37209 25.3737 3.49967 25.3737H24.4997C25.6273 25.3737 26.5413 24.4596 26.5413 23.332V10.4987C26.5413 9.37111 25.6273 8.45703 24.4997 8.45703H3.49967Z"
                  fill="url(#paint0_linear_9207_42811)"
                />
                <path
                  d="M12.1688 12.1152C11.9015 11.9281 11.5523 11.9052 11.2629 12.056C10.9735 12.2066 10.792 12.5057 10.792 12.832V20.9987C10.792 21.325 10.9735 21.6242 11.2629 21.7748C11.5523 21.9255 11.9015 21.9026 12.1688 21.7155L18.0021 17.6322C18.236 17.4685 18.3753 17.2009 18.3753 16.9154C18.3753 16.6299 18.236 16.3623 18.0021 16.1986L12.1688 12.1152Z"
                  fill="white"
                />
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M3.79199 6.41667C3.79199 5.93342 4.18375 5.54167 4.66699 5.54167H23.3337C23.8169 5.54167 24.2087 5.93342 24.2087 6.41667C24.2087 6.89991 23.8169 7.29167 23.3337 7.29167H4.66699C4.18375 7.29167 3.79199 6.89991 3.79199 6.41667ZM6.12533 3.5C6.12533 3.01675 6.51708 2.625 7.00033 2.625H21.0003C21.4836 2.625 21.8753 3.01675 21.8753 3.5C21.8753 3.98324 21.4836 4.375 21.0003 4.375H7.00033C6.51708 4.375 6.12533 3.98324 6.12533 3.5Z"
                  fill="url(#paint1_linear_9207_42811)"
                />
              </g>
              <defs>
                <linearGradient
                  id="paint0_linear_9207_42811"
                  x1="0.493264"
                  y1="19.2549"
                  x2="27.3856"
                  y2="19.2614"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F43F5E" />
                  <stop offset="1" stopColor="#FB923C" />
                </linearGradient>
                <linearGradient
                  id="paint1_linear_9207_42811"
                  x1="3.00674"
                  y1="5.60372"
                  x2="24.8958"
                  y2="5.61925"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F43F5E" />
                  <stop offset="1" stopColor="#FB923C" />
                </linearGradient>
              </defs>
            </svg>
            <p className="text-center text-nowrap">My Plans</p>
          </div>
        </Link>
        <Link href="/my_bookings/upcoming_bookings">
          <div
            className={`flex flex-col items-center py-3 mq450:px-3 bg-${props.bookingsactivecolor ? props.bookingsactivecolor : ""}`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="28"
              viewBox="0 0 28 28"
              fill="none"
            >
              <g
                className={`${props.activebookings ? "" : "mix-blend-luminosity"}`}
              >
                <path
                  d="M26 14C26 15.625 25.6823 17.1771 25.0469 18.6562C24.4115 20.1354 23.5573 21.4115 22.4844 22.4844C21.4115 23.5573 20.1354 24.4115 18.6562 25.0469C17.1771 25.6823 15.625 26 14 26C12.2083 26 10.5052 25.6224 8.89062 24.8672C7.27604 24.112 5.90104 23.0469 4.76562 21.6719C4.69271 21.5677 4.65885 21.4505 4.66406 21.3203C4.66927 21.1901 4.71354 21.0833 4.79688 21L6.9375 18.8438C7.04167 18.75 7.17188 18.7031 7.32812 18.7031C7.49479 18.724 7.61458 18.7865 7.6875 18.8906C8.44792 19.8802 9.38021 20.6458 10.4844 21.1875C11.5885 21.7292 12.7604 22 14 22C15.0833 22 16.1172 21.7891 17.1016 21.3672C18.0859 20.9453 18.9375 20.375 19.6562 19.6562C20.375 18.9375 20.9453 18.0859 21.3672 17.1016C21.7891 16.1172 22 15.0833 22 14C22 12.9167 21.7891 11.8828 21.3672 10.8984C20.9453 9.91406 20.375 9.0625 19.6562 8.34375C18.9375 7.625 18.0859 7.05469 17.1016 6.63281C16.1172 6.21094 15.0833 6 14 6C12.9792 6 12 6.1849 11.0625 6.55469C10.125 6.92448 9.29167 7.45312 8.5625 8.14062L10.7031 10.2969C11.026 10.6094 11.099 10.9688 10.9219 11.375C10.7448 11.7917 10.4375 12 10 12H3C2.72917 12 2.49479 11.901 2.29688 11.7031C2.09896 11.5052 2 11.2708 2 11V4C2 3.5625 2.20833 3.25521 2.625 3.07812C3.03125 2.90104 3.39062 2.97396 3.70312 3.29688L5.73438 5.3125C6.84896 4.26042 8.1224 3.44531 9.55469 2.86719C10.987 2.28906 12.4688 2 14 2C15.625 2 17.1771 2.31771 18.6562 2.95312C20.1354 3.58854 21.4115 4.44271 22.4844 5.51562C23.5573 6.58854 24.4115 7.86458 25.0469 9.34375C25.6823 10.8229 26 12.375 26 14ZM16 9.5V16.5C16 16.6458 15.9531 16.7656 15.8594 16.8594C15.7656 16.9531 15.6458 17 15.5 17H10.5C10.3542 17 10.2344 16.9531 10.1406 16.8594C10.0469 16.7656 10 16.6458 10 16.5V15.5C10 15.3542 10.0469 15.2344 10.1406 15.1406C10.2344 15.0469 10.3542 15 10.5 15H14V9.5C14 9.35417 14.0469 9.23438 14.1406 9.14062C14.2344 9.04688 14.3542 9 14.5 9H15.5C15.6458 9 15.7656 9.04688 15.8594 9.14062C15.9531 9.23438 16 9.35417 16 9.5Z"
                  fill="url(#paint0_linear_9207_42817)"
                />
              </g>
              <defs>
                <linearGradient
                  id="paint0_linear_9207_42817"
                  x1="1.07692"
                  y1="17.3192"
                  x2="26.8078"
                  y2="17.3233"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#F43F5E" />
                  <stop offset="1" stopColor="#FB923C" />
                </linearGradient>
              </defs>
            </svg>
            <p className="text-center text-nowrap">My Booking</p>
          </div>
        </Link>
        <Link href="/contactUs">
          <div
            className={`flex flex-col items-center py-3 mq450:px-3 bg-${props.helpactivecolor ? props.helpactivecolor : ""}`}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="28"
              viewBox="0 0 28 28"
              fill="none"
            >
              <g
                className={`${props.activehelp ? "" : "mix-blend-luminosity"}`}
              >
                <path
                  d="M13.9413 20.9987C14.3497 20.9987 14.695 20.8575 14.9773 20.5752C15.2597 20.2929 15.4005 19.9479 15.3997 19.5404C15.3989 19.1328 15.2581 18.7875 14.9773 18.5044C14.6966 18.2213 14.3512 18.0805 13.9413 18.082C13.5315 18.0836 13.1865 18.2248 12.9065 18.5055C12.6265 18.7863 12.4853 19.1313 12.483 19.5404C12.4807 19.9495 12.6218 20.2948 12.9065 20.5764C13.1912 20.8579 13.5361 20.9987 13.9413 20.9987ZM12.8913 16.507H15.0497C15.0497 15.8654 15.1228 15.3598 15.269 14.9904C15.4152 14.6209 15.8282 14.1154 16.508 13.4737C17.0136 12.9681 17.4122 12.4867 17.7038 12.0294C17.9955 11.572 18.1413 11.0229 18.1413 10.382C18.1413 9.29315 17.7427 8.45704 16.9455 7.8737C16.1483 7.29037 15.2052 6.9987 14.1163 6.9987C13.008 6.9987 12.1089 7.29037 11.419 7.8737C10.7291 8.45704 10.2477 9.15704 9.97468 9.9737L11.8997 10.732C11.9969 10.382 12.2158 10.0029 12.5565 9.59454C12.8972 9.1862 13.4171 8.98204 14.1163 8.98204C14.7386 8.98204 15.2052 9.15237 15.5163 9.49304C15.8275 9.8337 15.983 10.2078 15.983 10.6154C15.983 11.0043 15.8663 11.369 15.633 11.7097C15.3997 12.0504 15.108 12.3661 14.758 12.657C13.9025 13.4154 13.3775 13.989 13.183 14.3779C12.9886 14.7668 12.8913 15.4765 12.8913 16.507ZM13.9997 25.6654C12.3858 25.6654 10.8691 25.3593 9.44968 24.7472C8.03023 24.1351 6.79551 23.3036 5.74551 22.2529C4.69551 21.2021 3.86445 19.9674 3.25234 18.5487C2.64023 17.13 2.33379 15.6134 2.33301 13.9987C2.33223 12.384 2.63868 10.8674 3.25234 9.4487C3.86601 8.03004 4.69706 6.79531 5.74551 5.74454C6.79395 4.69376 8.02868 3.8627 9.44968 3.25137C10.8707 2.64004 12.3873 2.33359 13.9997 2.33204C15.612 2.33048 17.1287 2.63693 18.5497 3.25137C19.9707 3.86581 21.2054 4.69687 22.2538 5.74454C23.3023 6.7922 24.1337 8.02693 24.7482 9.4487C25.3626 10.8705 25.6687 12.3871 25.6663 13.9987C25.664 15.6103 25.3576 17.1269 24.747 18.5487C24.1365 19.9705 23.3054 21.2052 22.2538 22.2529C21.2023 23.3005 19.9676 24.132 18.5497 24.7472C17.1318 25.3624 15.6151 25.6685 13.9997 25.6654Z"
                  fill="url(#paint0_linear_3999_27551)"
                />
              </g>
              <defs>
                <linearGradient
                  id="paint0_linear_3999_27551"
                  x1="25.1551"
                  y1="25.6654"
                  x2="1.13079"
                  y2="24.3539"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#E3206D" />
                  <stop offset="1" stopColor="#F16A33" />
                </linearGradient>
              </defs>
            </svg>
            <p className="text-center text-nowrap">Help Center</p>
          </div>
        </Link>
        <div
          className={`flex cursor-pointer flex-col py-2 mt-24 mq450:mt-2 items-center  mq450:px-3 bg-${props.settingsactivecolor ? props.settingsactivecolor : ""}`}
        >
          <Popover>
            <PopoverTrigger className="flex flex-col items-center justify-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M8.5 11.4737C8.77532 11.4714 9.04983 11.4422 9.32 11.3863C9.42298 10.9 9.65537 10.4545 9.99 10.1021L10.7 9.3579C10.9317 9.1128 11.2072 8.9185 11.5107 8.78624C11.8142 8.65398 12.1395 8.58638 12.468 8.58737C12.525 8.58737 12.581 8.5979 12.637 8.60105C13.0178 7.66465 13.1018 6.62397 12.8763 5.6334C12.6509 4.64282 12.1282 3.75511 11.3856 3.10197C10.6431 2.44883 9.72027 2.06505 8.75414 2.00755C7.78801 1.95006 6.83001 2.22192 6.02225 2.78281C5.2145 3.34369 4.60002 4.16372 4.26998 5.12125C3.93993 6.07877 3.9119 7.12278 4.19005 8.09839C4.46819 9.07401 5.0377 9.92926 5.81407 10.5373C6.59044 11.1453 7.53233 11.4737 8.5 11.4737ZM8.5 4.10527C8.99445 4.10527 9.4778 4.25961 9.88893 4.54877C10.3 4.83793 10.6205 5.24892 10.8097 5.72978C10.9989 6.21064 11.0484 6.73976 10.952 7.25024C10.8555 7.76072 10.6174 8.22962 10.2678 8.59765C9.91814 8.96568 9.47268 9.21632 8.98773 9.31786C8.50277 9.4194 8.00011 9.36728 7.54329 9.16811C7.08648 8.96893 6.69603 8.63163 6.42133 8.19887C6.14662 7.76611 6 7.25732 6 6.73684C6 6.03891 6.26339 5.36955 6.73223 4.87604C7.20107 4.38252 7.83696 4.10527 8.5 4.10527Z"
                  fill="#A3A3A3"
                />
                <path
                  d="M9.313 19.8947H4V17.7895C4 16.952 4.31607 16.1487 4.87868 15.5565C5.44129 14.9643 6.20435 14.6316 7 14.6316H8.072C8.14574 14.2416 8.30246 13.8743 8.53038 13.5573C8.75831 13.2403 9.05153 12.9817 9.388 12.8011C9.36715 12.7104 9.35079 12.6187 9.339 12.5263H7C5.67441 12.528 4.40356 13.083 3.46622 14.0697C2.52888 15.0564 2.00159 16.3941 2 17.7895V20.9474C2 21.2265 2.10536 21.4943 2.29289 21.6917C2.48043 21.8891 2.73478 22 3 22H10.687L9.987 21.2632C9.63656 20.8889 9.40164 20.4119 9.313 19.8947Z"
                  fill="#A3A3A3"
                />
                <path
                  d="M21.5 14.6316H20.38C20.2672 14.1138 20.0714 13.6201 19.801 13.1716L20.601 12.3347C20.6947 12.236 20.7474 12.1022 20.7474 11.9626C20.7474 11.8231 20.6947 11.6892 20.601 11.5905L19.894 10.8463C19.8002 10.7476 19.6731 10.6922 19.5405 10.6922C19.4079 10.6922 19.2808 10.7476 19.187 10.8463L18.392 11.6884C17.9647 11.4014 17.4939 11.1935 17 11.0737V9.89474C17 9.75515 16.9473 9.62128 16.8536 9.52258C16.7598 9.42387 16.6326 9.36842 16.5 9.36842H15.5C15.3674 9.36842 15.2402 9.42387 15.1464 9.52258C15.0527 9.62128 15 9.75515 15 9.89474V11.0737C14.5081 11.1925 14.0391 11.3986 13.613 11.6832L12.818 10.8463C12.7242 10.7476 12.5971 10.6922 12.4645 10.6922C12.3319 10.6922 12.2048 10.7476 12.111 10.8463L11.404 11.5905C11.3103 11.6892 11.2576 11.8231 11.2576 11.9626C11.2576 12.1022 11.3103 12.236 11.404 12.3347L12.204 13.1768C11.9324 13.6234 11.7349 14.1153 11.62 14.6316H10.5C10.3674 14.6316 10.2402 14.687 10.1464 14.7857C10.0527 14.8844 10 15.0183 10 15.1579V16.2105C10 16.3501 10.0527 16.484 10.1464 16.5827C10.2402 16.6814 10.3674 16.7368 10.5 16.7368H11.62C11.7328 17.2546 11.9286 17.7483 12.199 18.1968L11.404 19.0337C11.3103 19.1324 11.2576 19.2662 11.2576 19.4058C11.2576 19.5453 11.3103 19.6792 11.404 19.7779L12.111 20.5221C12.2048 20.6208 12.3319 20.6762 12.4645 20.6762C12.5971 20.6762 12.7242 20.6208 12.818 20.5221L13.618 19.68C14.0422 19.9659 14.5096 20.1738 15 20.2947V21.4737C15 21.6133 15.0527 21.7471 15.1464 21.8458C15.2402 21.9445 15.3674 22 15.5 22H16.5C16.6326 22 16.7598 21.9445 16.8536 21.8458C16.9473 21.7471 17 21.6133 17 21.4737V20.2947C17.4919 20.176 17.9609 19.9699 18.387 19.6853L19.182 20.5274C19.2758 20.626 19.4029 20.6815 19.5355 20.6815C19.6681 20.6815 19.7952 20.626 19.889 20.5274L20.596 19.7832C20.6897 19.6845 20.7424 19.5506 20.7424 19.4111C20.7424 19.2715 20.6897 19.1376 20.596 19.0389L19.796 18.2021C20.0686 17.7523 20.2662 17.2568 20.38 16.7368H21.5C21.6326 16.7368 21.7598 16.6814 21.8536 16.5827C21.9473 16.484 22 16.3501 22 16.2105V15.1579C22 15.0183 21.9473 14.8844 21.8536 14.7857C21.7598 14.687 21.6326 14.6316 21.5 14.6316ZM16 18.3158C15.5055 18.3158 15.0222 18.1615 14.6111 17.8723C14.2 17.5831 13.8795 17.1721 13.6903 16.6913C13.5011 16.2104 13.4516 15.6813 13.548 15.1708C13.6445 14.6603 13.8826 14.1914 14.2322 13.8234C14.5819 13.4554 15.0273 13.2047 15.5123 13.1032C15.9972 13.0017 16.4999 13.0538 16.9567 13.253C17.4135 13.4521 17.804 13.7894 18.0787 14.2222C18.3534 14.6549 18.5 15.1637 18.5 15.6842C18.5 16.3822 18.2366 17.0515 17.7678 17.545C17.2989 18.0385 16.663 18.3158 16 18.3158Z"
                  fill="#A3A3A3"
                />
                <path
                  d="M16 16.7368C16.5523 16.7368 17 16.2656 17 15.6842C17 15.1029 16.5523 14.6316 16 14.6316C15.4477 14.6316 15 15.1029 15 15.6842C15 16.2656 15.4477 16.7368 16 16.7368Z"
                  fill="#A3A3A3"
                />
              </svg>
              <p className="text-center text-nowrap">Settings</p>
            </PopoverTrigger>
            <PopoverContent className=" px-5 py-3 bg-neutral-800 rounded-lg border border-neutral-700 flex-col justify-start items-center gap-2.5 inline-flex">
              <Dialog>
                <DialogTrigger>
                  <button
                    type="submit"
                    className="w-[193px] justify-between items-center inline-flex"
                  >
                    <div className="text-sm font-semibold text-neutral-100 font-Lato">
                      Log Out
                    </div>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <path
                        d="M15.923 12.382C16.0241 12.1374 16.0241 11.8626 15.923 11.618C15.8731 11.496 15.7993 11.3851 15.706 11.292L11.706 7.292C11.6138 7.19649 11.5034 7.12031 11.3814 7.0679C11.2594 7.01549 11.1282 6.9879 10.9954 6.98675C10.8626 6.9856 10.7309 7.0109 10.608 7.06118C10.4851 7.11146 10.3735 7.18571 10.2796 7.2796C10.1857 7.3735 10.1115 7.48515 10.0612 7.60805C10.0109 7.73094 9.9856 7.86262 9.98675 7.9954C9.9879 8.12818 10.0155 8.2594 10.0679 8.3814C10.1203 8.50341 10.1965 8.61375 10.292 8.706L12.586 11H4C3.73478 11 3.48043 11.1054 3.29289 11.2929C3.10536 11.4804 3 11.7348 3 12C3 12.2652 3.10536 12.5196 3.29289 12.7071C3.48043 12.8946 3.73478 13 4 13H12.586L10.293 15.293C10.1975 15.3852 10.1213 15.4956 10.0689 15.6176C10.0165 15.7396 9.9889 15.8708 9.98775 16.0036C9.9866 16.1364 10.0119 16.2681 10.0622 16.391C10.1125 16.5138 10.1867 16.6255 10.2806 16.7194C10.3745 16.8133 10.4861 16.8875 10.609 16.9378C10.7319 16.9881 10.8636 17.0134 10.9964 17.0123C11.1292 17.0111 11.2604 16.9835 11.3824 16.9311C11.5044 16.8787 11.6148 16.8025 11.707 16.707L15.707 12.707C15.7998 12.6141 15.8733 12.5036 15.923 12.382Z"
                        fill="#D4D4D4"
                      />
                      <path
                        d="M18 20H15C14.7348 20 14.4804 19.8946 14.2929 19.7071C14.1054 19.5196 14 19.2652 14 19C14 18.7348 14.1054 18.4804 14.2929 18.2929C14.4804 18.1054 14.7348 18 15 18H18C18.2652 18 18.5196 17.8946 18.7071 17.7071C18.8946 17.5196 19 17.2652 19 17V7C19 6.73478 18.8946 6.48043 18.7071 6.29289C18.5196 6.10536 18.2652 6 18 6H15C14.7348 6 14.4804 5.89464 14.2929 5.70711C14.1054 5.51957 14 5.26522 14 5C14 4.73478 14.1054 4.48043 14.2929 4.29289C14.4804 4.10536 14.7348 4 15 4H18C18.7956 4 19.5587 4.31607 20.1213 4.87868C20.6839 5.44129 21 6.20435 21 7V17C21 17.7956 20.6839 18.5587 20.1213 19.1213C19.5587 19.6839 18.7956 20 18 20Z"
                        fill="#D4D4D4"
                      />
                    </svg>
                  </button>
                </DialogTrigger>
                <DialogContent className="logout-dialog">
                  <DialogHeader>
                    <DialogTitle></DialogTitle>

                    <DialogDescription>
                      <form
                        action="/api/auth/signout"
                        method="GET"
                        className="flex flex-col items-center justify-center mt-6"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="80"
                          height="80"
                          viewBox="0 0 80 80"
                          fill="none"
                        >
                          <path
                            d="M43.3359 46.668H36.6693V30.0013H43.3359M43.3359 60.0013H36.6693V53.3346H43.3359M3.33594 70.0013H76.6693L40.0026 6.66797L3.33594 70.0013Z"
                            fill="#991B1B"
                          />
                        </svg>
                        <h1 className="text-[32px] text-[#FFFFFF] font-bold leading-normal">
                          Log Out
                        </h1>
                        <h5 className="text-[18px] text-[#F5F5F5] font-normal leading-normal">
                          Are you sure you want to log out ?
                        </h5>
                        <div className="flex items-center justify-center gap-6 mt-4">
                          <DialogClose className="text-[16px] text-[#FFFFFF] font-normal leading-[24px] px-4 py-[6px] rounded-[11px] border-[1px] border-[#F5F5F5]">
                            Cancel
                          </DialogClose>
                          <button
                            type="submit"
                            className="text-[16px] text-[#FFFFFF] font-normal leading-[24px] px-4 py-[6px] rounded-[8px] border-[1px] border-[#C72D65]"
                            style={{
                              background:
                                "radial-gradient(12158.65% 140.68% at 99.42% 0%, #EB4C60 0%, #EB4C60 48.44%, #EB4C60 100%), radial-gradient(12158.65% 140.68% at 99.42% 0%, #C72D65 0%, #D23760 48.44%, #D23755 100%), radial-gradient(12158.65% 140.68% at 99.42% 0%, #C72D65 0%, #D23760 48.44%, #D23755 100%)",
                            }}
                          >
                            Log Out
                          </button>
                        </div>
                      </form>
                    </DialogDescription>
                  </DialogHeader>
                </DialogContent>
              </Dialog>

              <Dialog>
                <DialogTrigger>
                  <div className="w-[193px] justify-between  items-center inline-flex">
                    <div className="text-sm font-semibold text-neutral-100 font-Lato">
                      Delete Account
                    </div>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <path
                        d="M20 6.21053H16V4.10526C16 3.54691 15.7893 3.01143 15.4142 2.61662C15.0391 2.2218 14.5304 2 14 2H10C9.46957 2 8.96086 2.2218 8.58579 2.61662C8.21071 3.01143 8 3.54691 8 4.10526V6.21053H4C3.73478 6.21053 3.48043 6.32143 3.29289 6.51884C3.10536 6.71624 3 6.98398 3 7.26316C3 7.54233 3.10536 7.81007 3.29289 8.00748C3.48043 8.20489 3.73478 8.31579 4 8.31579H5V19.8947C5 20.4531 5.21071 20.9886 5.58579 21.3834C5.96086 21.7782 6.46957 22 7 22H17C17.5304 22 18.0391 21.7782 18.4142 21.3834C18.7893 20.9886 19 20.4531 19 19.8947V8.31579H20C20.2652 8.31579 20.5196 8.20489 20.7071 8.00748C20.8946 7.81007 21 7.54233 21 7.26316C21 6.98398 20.8946 6.71624 20.7071 6.51884C20.5196 6.32143 20.2652 6.21053 20 6.21053ZM10 4.10526H14V6.21053H10V4.10526ZM17 19.8947H7V8.31579H17V19.8947Z"
                        fill="#E5E5E5"
                      />
                      <path
                        d="M10 9.36842C9.73478 9.36842 9.48043 9.47932 9.29289 9.67673C9.10536 9.87414 9 10.1419 9 10.4211V17.7895C9 18.0686 9.10536 18.3364 9.29289 18.5338C9.48043 18.7312 9.73478 18.8421 10 18.8421C10.2652 18.8421 10.5196 18.7312 10.7071 18.5338C10.8946 18.3364 11 18.0686 11 17.7895V10.4211C11 10.1419 10.8946 9.87414 10.7071 9.67673C10.5196 9.47932 10.2652 9.36842 10 9.36842Z"
                        fill="#E5E5E5"
                      />
                      <path
                        d="M14 9.36842C13.7348 9.36842 13.4804 9.47932 13.2929 9.67673C13.1054 9.87414 13 10.1419 13 10.4211V17.7895C13 18.0686 13.1054 18.3364 13.2929 18.5338C13.4804 18.7312 13.7348 18.8421 14 18.8421C14.2652 18.8421 14.5196 18.7312 14.7071 18.5338C14.8946 18.3364 15 18.0686 15 17.7895V10.4211C15 10.1419 14.8946 9.87414 14.7071 9.67673C14.5196 9.47932 14.2652 9.36842 14 9.36842Z"
                        fill="#E5E5E5"
                      />
                    </svg>
                  </div>
                </DialogTrigger>
                <DialogContent className="logout-dialog delete-dialog bg-neutral-600">
                  <DialogHeader>
                    <DialogTitle></DialogTitle>
                    <DialogClose className="absolute z-40 text-white opacity-10 top-2 md:top-1 right-2 md:right-2"></DialogClose>
                    <DialogDescription>
                      <form
                        // action="/api/auth/signout"
                        // method="GET"
                        className="flex flex-col items-center justify-center mt-6"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="80"
                          height="80"
                          viewBox="0 0 80 80"
                          fill="none"
                        >
                          <path
                            d="M43.3359 46.668H36.6693V30.0013H43.3359M43.3359 60.0013H36.6693V53.3346H43.3359M3.33594 70.0013H76.6693L40.0026 6.66797L3.33594 70.0013Z"
                            fill="#991B1B"
                          />
                        </svg>
                        <h1 className="text-[32px] text-[#FFFFFF] font-bold leading-normal">
                          Delete Account
                        </h1>
                        <h5 className="text-[18px] text-[#F5F5F5] font-normal leading-normal">
                          Are you sure you want to Delete account ?
                        </h5>
                        <h4 className="text-neutral-400">Once you delete your account, you will lose all your data insights!</h4>
                        <div className="flex items-center justify-center gap-6 mt-4">
                          <DialogClose className="text-[16px] text-[#FFFFFF] font-normal leading-[24px] px-4 py-[6px] rounded-[11px] border-[1px] border-[#F5F5F5]">
                            Cancel
                          </DialogClose>
                          <button
                            // type="submit"
                            onClick={handleDelete}
                            className="text-[16px] text-[#FFFFFF] font-normal leading-[24px] px-4 py-[6px] rounded-[8px] border-[1px] border-[#C72D65]"
                            style={{
                              background:
                                "radial-gradient(12158.65% 140.68% at 99.42% 0%, #EB4C60 0%, #EB4C60 48.44%, #EB4C60 100%), radial-gradient(12158.65% 140.68% at 99.42% 0%, #C72D65 0%, #D23760 48.44%, #D23755 100%), radial-gradient(12158.65% 140.68% at 99.42% 0%, #C72D65 0%, #D23760 48.44%, #D23755 100%)",
                            }}
                          >
                            Delete
                          </button>
                        </div>
                      </form>
                    </DialogDescription>
                  </DialogHeader>
                </DialogContent>
              </Dialog>
            </PopoverContent>
          </Popover>
        </div>
      </div>
    </div>
  );
};

export default UserNavbar;
